<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Pima Poa League – Fixtures</title>

  <!-- Sporty font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="top">
  <div class="brand">
    <div class="logo">8</div>
    <div>
      <h1>Fixtures & Results</h1>
      <p class="sub">Pima Poa Pool League</p>
    </div>
  </div>

  <div class="controls">
    <div id="currentRoundBadge" class="badge">Current Round: —</div>
    <div id="playedBadge" class="badge ghost">Played: — / —</div>

    <select id="roundFilter" class="select">
      <option value="all">All Rounds</option>
    </select>

    <button id="pendingOnlyBtn" class="btn ghost" type="button">Show Pending Only</button>
    <button id="currentRoundOnlyBtn" class="btn ghost" type="button">Current Round Only</button>
  </div>
</header>

<main class="wrap">

  <!-- Error box -->
  <div id="errBox" class="err" style="display:none;">
    <div class="errTitle">Couldn't load fixtures</div>
    <div id="errMsg" class="errMsg"></div>
  </div>

  <!-- ✅ Head-to-Head -->
  <section class="card" style="margin-bottom:14px;">
    <div class="cardHead">
      <div class="cardTitle">Head-to-Head</div>
      <div class="metaChip" id="h2hHint">Pick two players</div>
    </div>

    <div class="h2hGrid">
      <div class="h2hSelects">
        <select id="h2hA" class="select">
          <option value="" selected disabled>Player 1</option>
        </select>

        <div class="h2hVs">VS</div>

        <select id="h2hB" class="select">
          <option value="" selected disabled>Player 2</option>
        </select>

        <button id="h2hSwap" class="btn ghost small" type="button">Swap</button>
        <button id="h2hClear" class="btn ghost small" type="button">Clear</button>
      </div>

      <div class="h2hStats" id="h2hStats">
        <div class="h2hStat">
          <div class="k">Matches</div>
          <div class="v" id="h2hMatches">—</div>
        </div>
        <div class="h2hStat">
          <div class="k">Played</div>
          <div class="v" id="h2hPlayed">—</div>
        </div>
        <div class="h2hStat">
          <div class="k">Pending</div>
          <div class="v" id="h2hPending">—</div>
        </div>
        <div class="h2hStat">
          <div class="k" id="h2hAName">P1 Wins</div>
          <div class="v" id="h2hAWins">—</div>
        </div>
        <div class="h2hStat">
          <div class="k" id="h2hBName">P2 Wins</div>
          <div class="v" id="h2hBWins">—</div>
        </div>
      </div>
    </div>

    <div class="tableWrap compact" style="margin-top:12px;">
      <table class="tbl" id="h2hTable">
        <thead>
          <tr>
            <th style="width:90px;">ROUND</th>
            <th style="text-align:left;">PLAYER A</th>
            <th style="width:120px;">VS</th>
            <th style="text-align:left;">PLAYER B</th>
            <th style="width:160px;">WINNER</th>
            <th style="width:130px;">STATUS</th>
          </tr>
        </thead>
        <tbody id="h2hBody">
          <tr><td colspan="6" class="mutedCenter">Select two players to view matches.</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- Pending -->
  <section class="card">
    <div class="cardHead">
      <div class="cardTitle">Pending</div>
      <div class="pill pendingPill"><span class="dot"></span>To play</div>
    </div>

    <div class="tableWrap">
      <table class="tbl" id="pendingTable">
        <thead>
          <tr>
            <th style="width:90px;">ROUND</th>
            <th style="text-align:left;">PLAYER A</th>
            <th style="width:120px;">VS</th>
            <th style="text-align:left;">PLAYER B</th>
            <th style="width:130px;">STATUS</th>
          </tr>
        </thead>
        <tbody id="pendingBody"></tbody>
      </table>
    </div>

    <div style="height:16px"></div>

    <!-- Played -->
    <div class="cardHead">
      <div class="cardTitle">Played</div>
      <div class="pill playedPill"><span class="dot"></span>Done</div>
    </div>

    <div class="tableWrap">
      <table class="tbl" id="playedTable">
        <thead>
          <tr>
            <th style="width:90px;">ROUND</th>
            <th style="text-align:left;">PLAYER A</th>
            <th style="width:140px;">RESULT</th>
            <th style="text-align:left;">PLAYER B</th>
            <th style="width:160px;">WINNER</th>
            <th style="width:130px;">STATUS</th>
          </tr>
        </thead>
        <tbody id="playedBody"></tbody>
      </table>
    </div>

    <p class="footer">Auto-updated from <code>data/fixtures.csv</code></p>
  </section>

</main>

<script src="js/fixtures.js"></script>
</body>
</html>
